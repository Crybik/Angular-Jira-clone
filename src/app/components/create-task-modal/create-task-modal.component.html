<div class="modal-overlay" (click)="onOverlayClick($event)">
  <div class="modal-content">
    <!-- Header -->
    <div class="modal-header">
      <h2 class="modal-title">
        <app-icon name="plus" [size]="24"></app-icon>
        Create New Task
      </h2>
      <button class="close-btn" (click)="onClose()">
        <app-icon name="x" [size]="20"></app-icon>
      </button>
    </div>

    <!-- Body -->
    <div class="modal-body">
      <!-- Title -->
      <div class="form-group">
        <label class="form-label">Title <span class="required">*</span></label>
        <input 
          type="text" 
          class="form-input"
          [(ngModel)]="title"
          placeholder="What needs to be done?"
          autofocus
        />
      </div>

      <!-- Description -->
      <div class="form-group">
        <label class="form-label">Description</label>
        <textarea 
          class="form-textarea"
          [(ngModel)]="description"
          placeholder="Add more details about this task..."
          rows="3"
        ></textarea>
      </div>

      <!-- Status & Priority Row -->
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Status</label>
          <div class="select-wrapper">
            <select class="form-select" [(ngModel)]="status">
              <option *ngFor="let option of statusOptions" [value]="option.value">
                {{ option.label }}
              </option>
            </select>
            <app-icon name="chevron-down" [size]="16" class="select-icon"></app-icon>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Priority</label>
          <div class="select-wrapper">
            <select class="form-select" [(ngModel)]="priority">
              <option *ngFor="let option of priorityOptions" [value]="option.value">
                {{ option.label }}
              </option>
            </select>
            <app-icon name="chevron-down" [size]="16" class="select-icon"></app-icon>
          </div>
        </div>
      </div>

      <!-- Assignee & Points Row -->
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Assignee</label>
          <div class="select-wrapper">
            <select class="form-select" [(ngModel)]="assignee">
              <option value="">Unassigned</option>
              <option *ngFor="let member of teamMembers" [value]="member.name">
                {{ member.name }}
              </option>
            </select>
            <app-icon name="chevron-down" [size]="16" class="select-icon"></app-icon>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Story Points</label>
          <input 
            type="number" 
            class="form-input"
            [(ngModel)]="storyPoints"
            placeholder="0"
            min="0"
            max="100"
          />
        </div>
      </div>

      <!-- Labels -->
      <div class="form-group">
        <label class="form-label">Labels</label>
        <div class="labels-grid">
          <button 
            *ngFor="let label of availableLabels"
            class="label-btn"
            [class.selected]="isLabelSelected(label)"
            (click)="toggleLabel(label)"
          >
            {{ label }}
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="onClose()">Cancel</button>
      <button 
        class="btn btn-primary" 
        (click)="createTask()"
        [disabled]="!title.trim()"
      >
        <app-icon name="plus" [size]="18"></app-icon>
        Create Task
      </button>
    </div>
  </div>
</div>

