<div class="task-card">
  <!-- Labels -->
  <div class="task-labels" *ngIf="task.labels.length > 0">
    <span 
      *ngFor="let label of task.labels" 
      class="label"
      [ngStyle]="getLabelStyle(label)"
    >
      {{ label }}
    </span>
  </div>

  <!-- Title -->
  <h4 class="task-title">{{ task.title }}</h4>

  <!-- Description Preview -->
  <p class="task-description" *ngIf="task.description">
    {{ task.description | slice:0:80 }}{{ task.description.length > 80 ? '...' : '' }}
  </p>

  <!-- Subtasks Progress -->
  <div class="subtasks-section" *ngIf="task.subtasks.length > 0">
    <div class="subtasks-header">
      <app-icon name="clipboard-list" [size]="14"></app-icon>
      <span>{{ completedSubtasks }}/{{ totalSubtasks }}</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="subtaskProgress"></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="task-footer">
    <div class="task-meta">
      <!-- Task ID -->
      <span class="task-id">{{ task.id }}</span>

      <!-- Priority -->
      <div 
        class="priority-badge" 
        [style.background]="getPriorityConfig(task.priority).bg"
        [style.color]="getPriorityConfig(task.priority).color"
      >
        <app-icon [name]="getPriorityConfig(task.priority).icon" [size]="12"></app-icon>
      </div>

      <!-- Story Points -->
      <span class="story-points" *ngIf="task.storyPoints">
        {{ task.storyPoints }}
      </span>
    </div>

    <!-- Assignee -->
    <div class="task-assignee" *ngIf="task.assignee">
      <div class="assignee-avatar" [title]="task.assignee">
        {{ task.assigneeAvatar }}
      </div>
    </div>
  </div>
</div>

